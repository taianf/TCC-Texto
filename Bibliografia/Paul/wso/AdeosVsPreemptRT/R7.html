<html><head>
 <meta http-equiv="Content-Type" content="text/html "><title>'Re: PREEMPT_RT and I-PIPE: the numbers, part 4' - MARC</title></head><body bgcolor="#ffffff" link="#0000c0" text="#000000" vlink="#800080">
<pre><b>[<a href="http://marc.info/?l=linux-kernel&amp;m=112108101712446&amp;w=2">prev in list</a>] [<a href="http://marc.info/?l=linux-kernel&amp;m=112108259531614&amp;w=2">next in list</a>] [<a href="http://marc.info/?l=linux-kernel&amp;m=112106580930810&amp;w=2">prev in thread</a>] [<font color="#c0c0c0">next in thread</font>] </b>
<b><font size="+1">
List:       <a href="http://marc.info/?l=linux-kernel&amp;r=1&amp;w=2">linux-kernel</a>
Subject:    <a href="http://marc.info/?t=112086457900001&amp;r=1&amp;w=2">Re: PREEMPT_RT and I-PIPE: the numbers, part 4</a>
From:       <a href="http://marc.info/?a=101968666500002&amp;r=1&amp;w=2">Karim Yaghmour &lt;karim () opersys ! com&gt;</a>
Date:       <a href="http://marc.info/?l=linux-kernel&amp;r=1&amp;w=2&amp;b=200507">2005-07-11 11:25:31</a>
Message-ID: <a href="http://marc.info/?i=42D2572B.8070103%20%28%29%20opersys%20%21%20com">42D2572B.8070103 () opersys ! com</a></font>
[<a href="http://marc.info/?l=linux-kernel&amp;m=112108162801947&amp;q=raw">Download message RAW</a>]</b>


Ingo Molnar wrote:
&gt; So why do your "ping flood" results show such difference? It really is 
&gt; just another type of interrupt workload and has nothing special in it.
...
&gt; are you suggesting this is not really a benchmark but a way to test how 
&gt; well a particular system withholds against extreme external load?

Look, you're basically splitting hairs. No matter how involved an explanation
you can provide, it remains that both vanilla and I-pipe were subject to the
same load. If PREEMPT_RT consistently shows the same degradation under the
same setup, and that is indeed the case, then the problem is with PREEMPT_RT,
not the tests.

&gt; so you can see ping packet flow fluctuations in your tests? Then you 
&gt; cannot use those results as any sort of benchmark metric.

I didn't say this. I said that if fluctuation there is, then maybe this is
something we want to see the effect of. In real world applications,
interrupts may not come in at a steady pace, as you try to achieve in your
own tests.

&gt; and from this point on you should see zero lmbench overhead from flood 
&gt; pinging. Can vanilla or I-PIPE do that?

Let's not get into what I-pipe can or cannot do, that's not what these
numbers are about. It's pretty darn amazing that we're even having this
conversation. The PREEMPT_RT stuff is being worked on by more than a
dozen developers spread accross some of the most well-known Linux companies
out there (RedHat, MontaVista, IBM, TimeSys, etc.). Yet, despite this
massive involvement, here we have a patch developed by a single guy,
Philippe, who's doing this work outside his regular work hours, and his
patch, which does provide guaranteed deterministic behavior, is:
a) Much smaller than PREEMPT_RT
b) Less intrusive than PREEMPT_RT
c) Performs very well, as-good-as if not sometimes even better than PREEMPT_RT

Splitting hairs won't erase this reality. And again, before the I get the
PREEMPT_RT mob again on my back, this is just for the sake of argument,
both approaches remain valid, and are not mutually exclusive.

Like I said before, others are free to publish their own numbers showing
differently from what we've found.

Karim
-- 
Author, Speaker, Developer, Consultant
Pushing Embedded and Real-Time Linux Systems Beyond the Limits
<a href="http://www.opersys.com/">http://www.opersys.com</a> || karim@opersys.com || 1-866-677-4546

-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  <a href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a>
Please read the FAQ at  <a href="http://www.tux.org/lkml/">http://www.tux.org/lkml/</a>
<b>[<a href="http://marc.info/?l=linux-kernel&amp;m=112108101712446&amp;w=2">prev in list</a>] [<a href="http://marc.info/?l=linux-kernel&amp;m=112108259531614&amp;w=2">next in list</a>] [<a href="http://marc.info/?l=linux-kernel&amp;m=112106580930810&amp;w=2">prev in thread</a>] [<font color="#c0c0c0">next in thread</font>] </b>
</pre>
  <br><center>
    <a href="http://marc.info/?q=configure">Configure</a> | 

    <a href="http://marc.info/?q=about">About</a> |
    <a href="http://marc.info/?q=news">News</a> |
    <a href="http://marc.info/?q=about#Begware">Donate</a> |
    <a href="mailto:webguy@theaimsgroup.com?subject=Add%20a%20list%20to%20MARC">Add&nbsp;a&nbsp;list</a> |
    Sponsors:&nbsp;<a href="http://www.10east.com/">10East</a>,&nbsp;<a href="http://www.korelogic.com/">KoreLogic</a>,&nbsp;<a href="http://www.terra-intl.com/">Terra-International</a>
</center>

</body></html>