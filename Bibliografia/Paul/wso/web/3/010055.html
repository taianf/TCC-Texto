<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html><head><title>: Re: Re: Re:: Performance comparison legacy-patch vs. hal7 (adeos)</title>

 
   
   <link rel="Index" href="https://mail.rtai.org/pipermail/rtai/2005-January/index.html">
   <link rel="made" href="mailto:rtai%40rtai.org?Subject=%3A%20Re%3A%20Re%3A%20Re%3A%3A%20Performance%20comparison%20legacy-patch%20vs.%20hal7%0A%09%28adeos%29&amp;In-Reply-To=2256018.1106654306517.JavaMail.ngmail%40webmail-02.arcor-online.net">
   <meta name="robots" content="index,nofollow">
   <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <link rel="Previous" href="https://mail.rtai.org/pipermail/rtai/2005-January/010050.html">
   <link rel="Next" href="https://mail.rtai.org/pipermail/rtai/2005-January/010015.html"></head><body bgcolor="#ffffff">
   <h1>: Re: Re: Re:: Performance comparison legacy-patch vs. hal7	(adeos)</h1>
    <b>Philippe Gerum</b> 
    <a href="mailto:rtai%40rtai.org?Subject=%3A%20Re%3A%20Re%3A%20Re%3A%3A%20Performance%20comparison%20legacy-patch%20vs.%20hal7%0A%09%28adeos%29&amp;In-Reply-To=2256018.1106654306517.JavaMail.ngmail%40webmail-02.arcor-online.net" title=": Re: Re: Re:: Performance comparison legacy-patch vs. hal7	(adeos)">rpm at xenomai.org
       </a><br>
    <i>Tue Jan 25 15:46:10 CET 2005</i>
    <p></p><ul>
        <li>Previous message: <a href="https://mail.rtai.org/pipermail/rtai/2005-January/010050.html">: Re: Re: Re:: Performance comparison legacy-patch vs. hal7 (adeos)
</a></li>
        <li>Next message: <a href="https://mail.rtai.org/pipermail/rtai/2005-January/010015.html">New RTAI/ARM over Adeos is now in magma CVS
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/date.html#10055">[ date ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/thread.html#10055">[ thread ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/subject.html#10055">[ subject ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/author.html#10055">[ author ]</a>
         </li>
       </ul>
    <hr>  
<!--beginarticle-->
<pre>On Tue, 2005-01-25 at 12:58, M. Koehrer wrote:
&gt;<i>  Hello Philippe,
</i>&gt;<i> 
</i>&gt;<i> o.k., I have now done a test running adeos r9rc2 with the 2.6.9 kernel (rtai-3.2-test1) and a parallel stress 
</i>&gt;<i> program (about 95-98% CPU load according to "top", 76 MB RAM usage), no HDD accesses, little network traffic for starting and monitoring the tests.
</i>&gt;<i> However, I tested only a couple (5-8) of minutes, not hours...
</i>&gt;<i> 
</i>&gt;<i> The results are now:
</i>&gt;<i> user/switches:
</i>&gt;<i> SUSP/RES SWITCHES    legacy:  661ns    hal9: 1038ns
</i>&gt;<i> SEM SIG/WAIT         legacy:  781ns    hal9: 1188ns 
</i>&gt;<i>   
</i>&gt;<i> user/latency:
</i>&gt;<i> legacy: min: 927 max: 7080: average: 1869    
</i>&gt;<i> hal9   : min: -784, max: 13854, average: 1983
</i>&gt;<i>   
</i>&gt;<i> user/preempt:
</i>&gt;<i> legacy: min: 0 max: 19  average: 1 fastjit: 24 slowjit: 26      
</i>&gt;<i> hal9: min: 0   max: 18   average: 1  fastjit: 22 slowjit: 23
</i>&gt;<i> 
</i>&gt;<i> That means, that adeos r9rc2 is slightly better with the user/preempt test, but with the other tests, 
</i>&gt;<i> the legacy version shows still a slightly better performance...
</i>&gt;<i> 
</i>
Well, since best average performance seems to be your major requirement,
you should go for the legacy patch then.

&gt;<i> Regards
</i>&gt;<i> 
</i>&gt;<i> Mathias
</i>&gt;<i> &gt; &gt; I used now the adeos patch r8 for the kernel 2.6.7 to do another RTAI
</i>&gt;<i> &gt; performance comparison.
</i>&gt;<i> &gt; &gt; I have now a comparison (using the  testsuite tests) of the legacy-patch
</i>&gt;<i> &gt; &gt; (rtai 3.0r4 on a kernel 2.4.x)
</i>&gt;<i> &gt; &gt; versus rtai 3.2-test1 using the adeos patch r8 for kernel 2.6.7 on the
</i>&gt;<i> &gt; same P4
</i>&gt;<i> &gt; &gt;  (2.53 GHz, UP) PC.
</i>&gt;<i> &gt; &gt; The results are now:
</i>&gt;<i> &gt; &gt;  
</i>&gt;<i> &gt; &gt; user/switches:
</i>&gt;<i> &gt; &gt; SUSP/RES SWITCHES    legacy:  661ns    hal8: 1066ns
</i>&gt;<i> &gt; &gt; SEM SIG/WAIT         legacy:  781ns    hal8: 1217ns 
</i>&gt;<i> &gt; &gt;  
</i>&gt;<i> &gt; &gt; user/latency:
</i>&gt;<i> &gt; &gt; legacy: min: 1000 max: 6960: average: 1850     hal8: min: -815, max:
</i>&gt;<i> &gt; 12115, average: 1935
</i>&gt;<i> &gt; &gt;  
</i>&gt;<i> &gt; &gt; user/preempt:
</i>&gt;<i> &gt; &gt; legacy: min: 0 max: 12 : average: 1       hal8: min: 0, max:12 average: 1
</i>&gt;<i> &gt; &gt;  
</i>&gt;<i> &gt; &gt; Also with this version of adeos, the performance of the 
</i>&gt;<i> &gt; &gt; legacy patch is still faster.
</i>&gt;<i> &gt; &gt; Again, the tests ran about 30 seconds, there was no load on the PC.
</i>&gt;<i> &gt; &gt; 
</i>&gt;<i> &gt; 
</i>&gt;<i> &gt; Ok, I won't insist on your use of r8 instead of r9c2 (I sent you by mail
</i>&gt;<i> &gt; btw), but if you want to have figures that mean something valuable from
</i>&gt;<i> &gt; a RT POV, you should definitely put some load on your box, and measure
</i>&gt;<i> &gt; the latencies obtained after a few hours of runtime.
</i>&gt;<i> &gt; 
</i>&gt;<i> &gt; Measuring an idle system for a short period of time does not give you
</i>&gt;<i> &gt; any valuable information about the degree of determinism you could
</i>&gt;<i> &gt; expect. Would you choose to get the proper numbers eventually - which
</i>&gt;<i> &gt; may or may not confirm your first tests, that's not the point - please
</i>&gt;<i> &gt; use r9c2. Oh, sorry, I've insisted...
</i>-- 

Philippe.



</pre>

<!--endarticle-->
    <hr>
    <p></p><ul>
        <!--threads-->
	<li>Previous message: <a href="https://mail.rtai.org/pipermail/rtai/2005-January/010050.html">: Re: Re: Re:: Performance comparison legacy-patch vs. hal7 (adeos)
</a></li>
	<li>Next message: <a href="https://mail.rtai.org/pipermail/rtai/2005-January/010015.html">New RTAI/ARM over Adeos is now in magma CVS
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/date.html#10055">[ date ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/thread.html#10055">[ thread ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/subject.html#10055">[ subject ]</a>
              <a href="https://mail.rtai.org/pipermail/rtai/2005-January/author.html#10055">[ author ]</a>
         </li>
       </ul>

<hr>
<a href="http://mail.rtai.org/cgi-bin/mailman/listinfo/rtai">More information about the Rtai
mailing list</a><br>

</body></html>