
A organização do acesso ao meio para os serviços de
comunicação, crítica e não-crítica, é feita através de um bastão circulante
circulante implícito (cf. seção \ref{sec:ethSoftware}) e utiliza dois anéis lógicos
de comunicação num barramento Ethernet compartilhada: um anel composto pelas tarefas
críticas e um outro composto de processos não-críticos.  Cada um destes dois anéis
disponha de janelas temporais definidas através do mecanismo de TDMA. Para permitir
um uso eficiente da banda de transmissão, a alternância regular entre estes dois
anéis organiza a emissão das mensagens não-críticas enquanto as mensagens críticas
estão sendo processadas pelos dispositivos mais lentos.

A passagem do bastão circulante implícito acontece de duas maneiras.  Primeiro, depois da
transmissão de uma mensagem por uma estação, a sucessora desta estação adquire o
bastão circulante imediatamente.  Segundo, na ausência de transmissões, o bastão circulante
circula ``implicitamente'' baseado na passagem do tempo. Por exemplo, se uma estação
não tem nada a transmitir, o bastão circulante passa para a estação seguinte através de
um temporizador (cf. seção \ref{sec:ethSoftware}). A vantagem desta abordagem reside na
flexibilidade do controle do bastão circulante e do aproveitamento da largura de banda.

Além de unir duas técnicas distintas, TDMA e bastão circulante virtual, num único
protocolo, \doriss possui um mecanismo inovador para aumentar a flexibilidade de
comunicação para as aplicações críticas. Está previsto um mecanismo de reserva
dinâmico da banda.  Em linhas gerais, se uma estação tem mensagens urgentes a serem
transmitidas, ela poderá efetuar reservas de banda extra para o futuro.

% Depois de apresentar o modelo computacional, o protocolo \doris{} será descrito em
% detalhes nas seções seguintes. Concentraremos a descrição do protocolo nas regras
% que garantem o acesso ao meio compartilhado sem colisão. Já que as funções de
% recepção são baseadas nas funções oferecidas pela norma Ethernet 802.3, elas não
% serão descritas aqui.  Os mecanismos de composição de grupos e de tolerância a falha
% também não serão apresentados aqui, porque fogem do escopo deste trabalho. Eles
% deverão ser contemplados em trabalhos futuros.

\begin{comment}
  Na seção~\ref{sec:general}, abordaremos brevemente os problemas vinculados a
  admissão e a remoção de estações dos anéis lógicos e a solução adotada neste
  primeiro passo do trabalho para inicializa o protocolo. Também discutiremos a
  generalização possível do protocolo.  Por fim, na seção~\ref{sec:propriedades},
  discutiremos as propriedades temporais oferecidas pelo protocolo, a partir da
  análise dos cenários de melhor caso e pior caso, em particular na ocorrência de
  falhas.
\end{comment}


\section{Estrutura}
\label{sec:modeloDoris}

\subsection{A estrutura lógica}

Consideramos um conjunto de estações interligadas num barramento Ethernet
compartilhada, chamado de barramento \doris.  Cada estação pode hospedar tanto
tarefas com requisitos temporais críticos quanto tarefas não-críticas.  Para
distingui-los, as primeiras serão chamadas de \emph{tarefas} e as segundas de
\emph{processos}.

Denota-se $N_H$ o número de tarefas e $N_S$ o número de processos conectadas no
barramento \doris. Cada tarefa ou processo é identificado de maneira única por um
identificador inteiro.  Utilizando este identificador como índice, definimos
$\RTS=\{T_1,T_2,\ldots,T_{N_H}\}$ e $\SOS =\{P_1,P_2,\ldots,P_{N_S}\}$ os conjuntos
ordenados de tarefas e processos.  Estes dois conjuntos representam os dois anéis
lógicos de \doris, nos quais um único bastão circulante circula.

Observa-se que:

\begin{itemize}
\item Uma mesma estação pode hospedar um número arbitrário de tarefas e processos.
\item Os conjuntos $\RTS$ e $\SOS$ podem ter cardinais diferentes.
\end{itemize}

Denota-se $m(x)$ uma mensagem emitida por um elemento $x$ de um dos dois conjuntos
$\RTS$ e $\SOS$.
