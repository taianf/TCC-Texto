\batchmode
\documentclass[12pt]{article}

\usepackage{graphicx,url}

%\usepackage[brazil]{babel}   
\usepackage[latin1]{inputenc}  
\usepackage{articleLoc}

\setlength{\textwidth}{390.0pt}
\begin{document}
\chardef\%=`\%
\fl{ NextChip \.{\defeq}}
 \fl{ \.{\land}}\al{1}{1}{ Shared . medium \.{=} \{ \} \.{\land} Shared .
 chipTimer \.{=} deltaChip}
 \fl{ \.{\land}}\al{2}{1}{ \.{\LET}}\al{2}{2}{ Overflow \.{\defeq} \E\, j
 \.{\in} Shared . proc \.{:} Len ( ProcState [ j ] . list ) \.{>} 14}
\fl{ TimeCircle \.{\defeq} Shared . cycleCount \.{=} horiz}
\fl{ NextCycle \.{\defeq} Shared . chipCount \.{=} nServ}
 \fl{ \.{\IN}}\al{5}{1}{ \.{\land}}\al{5}{2}{ Shared \.{'} \.{=} [ Shared
 {\EXCEPT} ! . macTimer \.{=} 0 ,\,}
 \fl{ !}\al{6}{1}{ . chipCount}\al{6}{3}{ \.{=}}\al{6}{4}{ ( @ \.{\%} nServ )
 \.{+} 1 ,\,}
 \fl{ !}\al{7}{1}{ . chipTimer}\al{7}{3}{ \.{=}}\al{7}{4}{ {\IF} Overflow
 \.{\THEN} \.{-} 1 \.{\ELSE} 0 ,\,}
\fl{ !}\al{8}{1}{ . cycleCount \.{=}}\al{8}{4}{ {\IF} TimeCircle \.{\THEN} 1}
\fl{ \.{\ELSE} {\IF} NextCycle \.{\THEN} @ \.{+} 1 \.{\ELSE} @ ]}
 \fl{ \.{\land}}\al{10}{1}{ ProcState \.{'} \.{=}}\al{10}{4}{ [ j}\al{10}{6}{
 \.{\in}}\al{10}{7}{ ( Proc \.{\,\backslash\,} Shared . proc ) \.{\mapsto}
 ProcState [ j ] ] \.{\,@@\,}}
 \fl{ [ j}\al{11}{2}{ \.{\in}}\al{11}{3}{ Shared . proc \.{\mapsto} [
 ProcState [ j ] {\EXCEPT} ! . count \.{=} 0 ,\,}
 \fl{ !}\al{12}{1}{ . token \.{=} {\IF} ProcState [ j ] . count \.{=} 0
 \.{\THEN} ( @ \.{\%} nServ ) \.{+} 1 \.{\ELSE} @ ,\,}
 \fl{ !}\al{13}{1}{ . list \.{=} {\IF} NextCycle \.{\THEN} @ \.{\circ} list (
 j ,\, Shared . cycleCount ) \.{\ELSE} @ ] ]}
 \fl{ \.{\land}}\al{14}{1}{ {\IF} NextCycle \.{\THEN} History \.{'} \.{=} [
 elem \.{\mapsto} 0 ,\, rese \.{\mapsto} 0 ]}
\fl{ \.{\ELSE} {\UNCHANGED} History}
\fl{ \.{\land}}\al{16}{1}{ {\UNCHANGED} TaskState}
\end{document}
